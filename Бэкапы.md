* Создаем ВМ/докер c ПГ.

--------------------------------------

* Создаем БД, схему и в ней таблицу.

Создаем базу
  
```sql
postgres=# create database backup;
CREATE DATABASE
```
Создаем схему "backup"
```sql
backup=# create schema backup;
CREATE SCHEMA
backup=#
```
Создаем таблицу в схеме 
```sql
CREATE TABLE backup.my_table (column2 VARCHAR(100));
```
Проверяем 

```sql
Таблица в нужной схеме 

backup=# SELECT table_schema FROM information_schema.tables WHERE table_name = 'my_table';
 table_schema
--------------
 backup
(1 row)

Схема в нужной базе

backup=# SELECT schema_name FROM information_schema.schemata;
    schema_name
--------------------
 pg_toast
 pg_catalog
 public
 information_schema
 backup
(5 rows)

```

-------------------------------------

* Заполним таблицы автосгенерированными 100 записями.

```sql
INSERT INTO backup.my_table (column2) SELECT 'value' || generate_series FROM generate_series(1, 100);
```
В таблице 100 строк 

```
backup=# select count (*) from backup.my_table;
 count
-------
   100
(1 row)
```

-------------------------------------

* Под линукс пользователем Postgres создадим каталог для бэкапов

-------------------------------------

* Сделаем логический бэкап используя утилиту COPY

-------------------------------------

* Восстановим в 2 таблицу данные из бэкапа.

-------------------------------------

* Используя утилиту pg_dump создадим бэкап в кастомном сжатом формате двух таблиц


-------------------------------------

* Используя утилиту pg_restore восстановим в новую БД только вторую таблицу!
  
------------------------------------

